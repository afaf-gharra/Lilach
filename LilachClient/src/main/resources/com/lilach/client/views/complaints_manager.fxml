<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<?import org.kordamp.ikonli.javafx.FontIcon?>

<VBox xmlns="http://javafx.com/javafx/17" 
      xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="com.lilach.client.controllers.ComplaintsManagerController"
      spacing="20" 
      styleClass="bg-floral-pattern"
      prefWidth="1600" 
      prefHeight="900"
      stylesheets="@/com/lilach/client/css/styles.css">
    
    <!-- Header -->
    <HBox alignment="CENTER" spacing="20" styleClass="header-section">
        <Label text="Complaints Management" styleClass="h1 text-white"/>
    </HBox>
    
    <!-- Filter Controls -->
    <HBox spacing="20" alignment="CENTER" styleClass="filter-section">
        <Button text="Refresh" onAction="#handleRefresh" styleClass="secondary-button">
            <graphic>
                <FontIcon iconLiteral="fas-sync-alt" iconSize="14"/>
            </graphic>
        </Button>
        <Label text="Filter by Status:" styleClass="input-label text-white"/>
        <ComboBox fx:id="statusFilterCombo" styleClass="modern-input" prefWidth="150"/>
    </HBox>
    
    <!-- Main Content -->
    <VBox styleClass="card-container" spacing="20">
        <!-- Complaints Table -->
        <TableView fx:id="complaintsTable" prefHeight="400" styleClass="modern-table">
            <columns>
                <TableColumn fx:id="idColumn" text="ID" prefWidth="60"/>
                <TableColumn fx:id="orderIdColumn" text="Order ID" prefWidth="80"/>
                <TableColumn fx:id="customerColumn" text="Customer" prefWidth="150"/>
                <TableColumn fx:id="typeColumn" text="Type" prefWidth="120"/>
                <TableColumn fx:id="statusColumn" text="Status" prefWidth="100"/>
                <TableColumn fx:id="createdColumn" text="Created" prefWidth="150"/>
                <TableColumn fx:id="actionsColumn" text="Actions" prefWidth="200"/>
            </columns>
        </TableView>
        
        <!-- Details Panel -->
        <SplitPane dividerPositions="0.6" styleClass="details-split-pane">
            <!-- Complaint Details -->
            <VBox spacing="15">
                <Label text="Complaint Details" styleClass="h3 text-dark"/>
                <TextArea fx:id="complaintDetails" editable="false" styleClass="modern-input" prefHeight="150"/>
                
                <Label text="Resolution Notes" styleClass="h3 text-dark"/>
                <TextArea fx:id="resolutionNotes" promptText="Enter resolution notes..." styleClass="modern-input" prefHeight="100"/>
                
                <HBox spacing="15" alignment="CENTER_LEFT">
                    <Label text="Compensation:" styleClass="input-label"/>
                    <TextField fx:id="compensationField" promptText="0.00" styleClass="modern-input" prefWidth="100"/>
                    <Label text="Status:" styleClass="input-label"/>
                    <ComboBox fx:id="statusCombo" styleClass="modern-input" prefWidth="120"/>
                </HBox>
            </VBox>
            
            <!-- Customer Information -->
            <VBox spacing="15">
                <Label text="Customer Information" styleClass="h3 text-dark"/>
                <TextArea fx:id="customerInfo" editable="false" styleClass="modern-input" prefHeight="100"/>
                
                <Label text="Order Details" styleClass="h3 text-dark"/>
                <TextArea fx:id="orderDetails" editable="false" styleClass="modern-input" prefHeight="100"/>
                
                <Label text="Contact Preferences" styleClass="h3 text-dark"/>
                <TextArea fx:id="contactInfo" editable="false" styleClass="modern-input" prefHeight="60"/>
                
                <Button fx:id="resolveButton" text="Resolve Complaint" styleClass="primary-button" prefWidth="200">
                    <graphic>
                        <FontIcon iconLiteral="fas-check-circle" iconSize="14"/>
                    </graphic>
                </Button>
            </VBox>
        </SplitPane>
    </VBox>
    
    <!-- Footer -->
    <Label text="Â© 2025 Lilach Flower Shop" styleClass="copyright"/>
</VBox>
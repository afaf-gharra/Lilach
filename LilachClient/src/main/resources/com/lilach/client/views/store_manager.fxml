<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.image.Image?>

<VBox xmlns="http://javafx.com/javafx/17" 
      xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="com.lilach.client.controllers.StoreManagerController"
      spacing="20" 
      style="-fx-background-color: linear-gradient(to bottom, #f9f7fe, #f0e6ff);"
      prefWidth="1600" 
      prefHeight="900">
    
    <!-- Header Section -->
    <HBox spacing="20" alignment="CENTER" style="-fx-background-color: #8a4fff; -fx-background-radius: 0 0 15 15; -fx-padding: 15;">
        
        <ImageView fitHeight="50" fitWidth="50">
            <Image  url="@/com/lilach/client/images/logo.png" preserveRatio="true"/>
        </ImageView>

        <Label text="Lilach Flower Shop Manager" style="-fx-text-fill: white; -fx-font-size: 24px; -fx-font-weight: bold;">
            <font>
                <Font name="Arial Rounded MT Bold" size="24" />
            </font>
        </Label>
        <Region HBox.hgrow="ALWAYS" />
        <Button text="Reports" onAction="#handleReports" style="-fx-background-color: #6a30e3; -fx-text-fill: white; -fx-background-radius: 20;">
            
        </Button>
        <Button text="Complaints" onAction="#handleComplaints" style="-fx-background-color: #6a30e3; -fx-text-fill: white; -fx-background-radius: 20;">
            
        </Button>
        <Button text="Refresh Data" onAction="#handleRefresh" style="-fx-background-color: #6a30e3; -fx-text-fill: white; -fx-background-radius: 20;">
            
        </Button>
        <Button text="Logout" onAction="#handleLogout" style="-fx-background-color: transparent; -fx-border-color: white; -fx-text-fill: white; -fx-background-radius: 20; -fx-border-radius: 20;">
            
        </Button>
    </HBox>
    
    <!-- Main Content Area -->
    <TabPane tabClosingPolicy="UNAVAILABLE" style="-fx-background-radius: 15; -fx-border-radius: 15; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 5);">
        <!-- Order Management Tab -->
        <Tab text="Order Management">
            
            <VBox spacing="15" style="-fx-padding: 20; -fx-background-color: #fafafa;">
                <HBox spacing="10" alignment="CENTER_LEFT">
                    <Label text="Filter by Status:" style="-fx-font-size: 16px; -fx-text-fill: #5a2db1; -fx-font-weight: bold;"/>
                    <ComboBox fx:id="statusFilterCombo" style="-fx-background-radius: 20; -fx-border-radius: 20; -fx-pref-width: 150; -fx-background-color: white; -fx-border-color: #e0d6ff;"/>
                </HBox>
                
                <TableView fx:id="ordersTable" prefHeight="300" style="-fx-background-radius: 10; -fx-border-radius: 10; -fx-border-color: #e0d6ff;">
                    <columns>
                        <TableColumn fx:id="orderIdColumn" text="Order ID" prefWidth="80"/>
                        <TableColumn fx:id="customerNameColumn" text="Customer" prefWidth="150"/>
                        <TableColumn fx:id="orderDateColumn" text="Order Date" prefWidth="150"/>
                        <TableColumn fx:id="deliveryDateColumn" text="Delivery Date" prefWidth="150"/>
                        <TableColumn fx:id="totalColumn" text="Total" prefWidth="100"/>
                        <TableColumn fx:id="statusColumn" text="Status" prefWidth="100"/>
                    </columns>
                </TableView>
                
                <HBox spacing="20">
                    <VBox spacing="10" prefWidth="600">
                        <Label text="Order Details:" style="-fx-font-size: 16px; -fx-text-fill: #5a2db1; -fx-font-weight: bold;"/>
                        <TextArea fx:id="orderDetailsArea" prefHeight="200" style="-fx-background-radius: 10; -fx-border-radius: 10; -fx-border-color: #e0d6ff; -fx-background-color: white;" editable="false"/>
                    </VBox>
                    
                    <VBox spacing="10" prefWidth="300">
                        <Label text="Update Status:" style="-fx-font-size: 16px; -fx-text-fill: #5a2db1; -fx-font-weight: bold;"/>
                        <ComboBox fx:id="statusUpdateCombo" style="-fx-background-radius: 20; -fx-border-radius: 20; -fx-background-color: white; -fx-border-color: #e0d6ff;"/>
                        <Button fx:id="updateStatusButton" text="Update Status" style="-fx-background-color: #8a4fff; -fx-text-fill: white; -fx-background-radius: 20;"/>
                    </VBox>
                </HBox>
            </VBox>
        </Tab>
        
        <!-- Product Management Tab -->
        <Tab text="Product Management">
            
            <VBox spacing="15" style="-fx-padding: 20; -fx-background-color: #fafafa;">
                <Label text="Product Management" style="-fx-font-size: 20px; -fx-text-fill: #5a2db1; -fx-font-weight: bold; -fx-padding: 0 0 10 0;"/>
                
                <HBox spacing="20" alignment="TOP_CENTER">
                    <!-- Left side: Product Catalog -->
                    <VBox spacing="10" prefWidth="600">
                        <Label text="Product Catalog" style="-fx-font-size: 16px; -fx-text-fill: #5a2db1; -fx-font-weight: bold;"/>
                        <TableView fx:id="productsTable" prefHeight="500" style="-fx-background-radius: 10; -fx-border-radius: 10; -fx-border-color: #e0d6ff;">
                            <columns>
                                <TableColumn fx:id="productNameColumn" text="Name" prefWidth="200"/>
                                <TableColumn fx:id="categoryColumn" text="Category" prefWidth="120"/>
                                <TableColumn fx:id="priceColumn" text="Price" prefWidth="80"/>
                                <TableColumn fx:id="stockColumn" text="Stock" prefWidth="80"/>
                                <TableColumn fx:id="availableColumn" text="Available" prefWidth="80"/>
                            </columns>
                        </TableView>
                    </VBox>
                    
                    <!-- Right side: Product Details Form -->
                    <VBox spacing="15" prefWidth="400" style="-fx-padding: 15; -fx-background-color: #f3efff; -fx-background-radius: 10;">
                        <Label text="Product Details" style="-fx-font-size: 16px; -fx-text-fill: #5a2db1; -fx-font-weight: bold; -fx-padding: 0 0 10 0;"/>
                        
                        <ScrollPane fitToWidth="true" style="-fx-background-color: transparent; -fx-padding: 0;">
                            <VBox spacing="12">
                                <GridPane hgap="10" vgap="10">
                                    <columnConstraints>
                                        <ColumnConstraints prefWidth="100"/>
                                        <ColumnConstraints prefWidth="250"/>
                                    </columnConstraints>
                                    
                                    <Label text="Name:" GridPane.rowIndex="0" GridPane.columnIndex="0" style="-fx-text-fill: #5a2db1;"/>
                                    <TextField fx:id="productNameField" GridPane.rowIndex="0" GridPane.columnIndex="1" style="-fx-background-radius: 20; -fx-border-radius: 20; -fx-background-color: white; -fx-border-color: #e0d6ff;"/>
                                    
                                    <Label text="Category:" GridPane.rowIndex="1" GridPane.columnIndex="0" style="-fx-text-fill: #5a2db1;"/>
                                    <TextField fx:id="productCategoryField" GridPane.rowIndex="1" GridPane.columnIndex="1" style="-fx-background-radius: 20; -fx-border-radius: 20; -fx-background-color: white; -fx-border-color: #e0d6ff;"/>
                                    
                                    <Label text="Price:" GridPane.rowIndex="2" GridPane.columnIndex="0" style="-fx-text-fill: #5a2db1;"/>
                                    <TextField fx:id="productPriceField" GridPane.rowIndex="2" GridPane.columnIndex="1" style="-fx-background-radius: 20; -fx-border-radius: 20; -fx-background-color: white; -fx-border-color: #e0d6ff;"/>
                                    
                                    <Label text="Stock:" GridPane.rowIndex="3" GridPane.columnIndex="0" style="-fx-text-fill: #5a2db1;"/>
                                    <TextField fx:id="productStockField" GridPane.rowIndex="3" GridPane.columnIndex="1" style="-fx-background-radius: 20; -fx-border-radius: 20; -fx-background-color: white; -fx-border-color: #e0d6ff;"/>
                                    
                                    <Label text="Color:" GridPane.rowIndex="4" GridPane.columnIndex="0" style="-fx-text-fill: #5a2db1;"/>
                                    <TextField fx:id="productColorField" GridPane.rowIndex="4" GridPane.columnIndex="1" style="-fx-background-radius: 20; -fx-border-radius: 20; -fx-background-color: white; -fx-border-color: #e0d6ff;"/>
                                    
                                    <Label text="Image URL:" GridPane.rowIndex="5" GridPane.columnIndex="0" style="-fx-text-fill: #5a2db1;"/>
                                    <TextField fx:id="productImageField" GridPane.rowIndex="5" GridPane.columnIndex="1" style="-fx-background-radius: 20; -fx-border-radius: 20; -fx-background-color: white; -fx-border-color: #e0d6ff;"/>
                                    
                                    <Label text="Available:" GridPane.rowIndex="6" GridPane.columnIndex="0" style="-fx-text-fill: #5a2db1;"/>
                                    <CheckBox fx:id="productAvailableCheckbox" GridPane.rowIndex="6" GridPane.columnIndex="1"/>
                                </GridPane>
                                
                                <Label text="Description:" style="-fx-text-fill: #5a2db1;"/>
                                <TextArea fx:id="productDescriptionField" prefHeight="100" style="-fx-background-radius: 10; -fx-border-radius: 10; -fx-background-color: white; -fx-border-color: #e0d6ff;"/>
                                
                                <HBox spacing="10" alignment="CENTER">
                                    <Button fx:id="addProductButton" text="Add Product" style="-fx-background-color: #4caf50; -fx-text-fill: white; -fx-background-radius: 20;"/>
                                    <Button fx:id="updateProductButton" text="Update Product" style="-fx-background-color: #8a4fff; -fx-text-fill: white; -fx-background-radius: 20;" disable="true"/>
                                    <Button fx:id="deleteProductButton" text="Delete Product" style="-fx-background-color: #f44336; -fx-text-fill: white; -fx-background-radius: 20;" disable="true"/>
                                </HBox>
                            </VBox>
                        </ScrollPane>
                    </VBox>
                </HBox>
            </VBox>
        </Tab>
    </TabPane>
    
    <!-- Footer -->
    <HBox alignment="CENTER" style="-fx-background-color: #8a4fff; -fx-background-radius: 15 15 0 0; -fx-padding: 10;">
        <Label text="© 2025 Lilach Flower Shop" style="-fx-text-fill: white;"/>
    </HBox>
</VBox>